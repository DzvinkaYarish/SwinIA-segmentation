# @package _global_
experiment: imagenet

dataset:
  path: ${cwd}/data/ImageNet/
  n_channels: 3
  version: 0
  mean: [ 122.25141725, 116.91694356, 107.81185462 ]
  std: [ 93.30611168, 92.57893674, 93.08634617 ]

dataset_train:
  _target_: noise2same.dataset.ImagenetDataset
  mode: train
  transforms:
    _target_: noise2same.dataset.util.training_augmentations_2d
    crop: 64
  input_size: ${.transforms.crop}  # needed for some models

dataset_valid:
  _target_: noise2same.dataset.ImagenetDataset
  mode: val
  transforms:
    _target_: noise2same.dataset.util.validation_transforms_2d
    crop: 64

dataset_test:
  _target_: noise2same.dataset.ImagenetTestDataset

factory_test:
  _target_: noise2same.dataset.tiling.TiledImageFactory
  tile_size: 256
  tile_step: 192
  crop_border: 0
  weight: 'pyramid'
  batch_size: 8
#  num_workers: ${training.num_workers}

training:
  steps: 50000
  crop: 64
  batch_size: 64
  validate: True
  val_partition: 0.1
  monitor: val_mse