# @package _global_
experiment: fmd

dataset:
  _target_: noise2same.dataset.FMDDataset
  path: ${hydra.runtime.cwd}/data/FMD/
  part: cf_fish
  add_blur_and_noise: True
  transforms:
    _target_: noise2same.dataset.util.training_augmentations_2d
    crop: 64

dataset_valid:
  mode: val
  transforms:
    _target_: noise2same.dataset.util.validation_transforms_2d
    crop: 64

dataset_test:
  transforms: null
  mode: test

training:
  crop: 128
  steps: 10000
  steps_per_epoch: 200
  batch_size: 16
  val_batch_size: 1
  monitor: val_mse

optim:
  optimizer: adam
  lr: 0.0004
  weight_decay: 1e-8
  decay_rate: 0.5
  decay_steps: 1e3  # how many steps to decrease by decay rate
  staircase: True  # integer division

psf:
  path: null
  psf_size: null
  psf_pad_mode: replicate  # check if reflect affected anything
  psf_fft: auto